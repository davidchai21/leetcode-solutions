This question is not so hard. We just need to use DFS to check every possible cases. And we can use some space to store the previous checked states to fasten the speed.

Runtime: 79ms
